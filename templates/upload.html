{% extends "index.html" %}
{% block Upload %}

<header>
    <h1>Upload Your Image(s)</h1>
</header>

<main>
    <!-- Dropzone Form -->
    <form action="{{ url_for('upload') }}" class="dropzone" id="myDropzone">
        <div class="dz-message">Drag & drop files here or click to upload</div>
    </form>

    <!-- Button to trigger camera (only visible on mobile) -->
    <button id="takePicBtn">Take Picture</button>

    <!-- Submit button -->
    <button id="submitBtn">Submit</button>

    <!-- Take picture for desktop -->
    <button id="startCameraBtn">Take Picture</button>

    <!-- timer -->
    <div id="countdown"></div>
    
    <!-- Camera preview container (initially hidden) -->
    <div id="cameraContainer" style="display: none;">
        <video id="video" autoplay playsinline style="width: 100%; max-width: 450px;"></video>
        <button id="snap">Capture</button>
    </div>

    <!-- Hidden canvas for capturing the frame -->
    <canvas id="cameraCanvas" style="display: none;"></canvas>

    


    <!-- Hidden file input for camera upload -->
    <input type="file" id="cameraInput" accept="image/*" capture="environment" style="display: none;">
    
    
</main>



<script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.7.1/min/dropzone.min.js"></script>
<script src="{{ url_for('static', filename='dropzoneOptions.js') }}" ></script>
{% endblock %}